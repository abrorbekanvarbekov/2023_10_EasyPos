<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.easypos.DAO.BasicInformationDao">
    <!--     ======================== 기초정보 관리  ====================== -->

    <select id="getBigClassification" resultType="productBigClassification">
        select * from productBigClassification
        <if test="searchClassificationName != ''">
            where bigClassificationName LIKE CONCAT('%', #{searchClassificationName}, '%')
        </if>
        order by id ASC
    </select>

    <select id="getMiddleClassifications" resultType="productMiddleClassification">
        select * from productMiddleClassification
        where bigClassificationCode = #{bigClassificationCode}
        <if test="searchClassificationName != ''">
            and middleClassificationName LIKE CONCAT('%', #{searchClassificationName}, '%')
        </if>
        order by id ASC
    </select>

    <select id="getSmallClassification" resultType="productSmallClassification">
        select * from productSmallClassification
        where bigClassificationCode = #{bigClassificationCode}
          and middleClassificationCode = #{middleClassificationCode}
        <if test="searchClassificationName != ''">
            and smallClassificationName LIKE CONCAT('%', #{searchClassificationName}, '%')
        </if>
        order by id ASC
    </select>
</mapper>

